var PageTransitions=function(t){"use strict";function a(){var a=location.hash.substr(1),e=t("#page-ajax-loaded"),p=t("#portfolio_grid figure a").each((function(){if(p=t(this).attr("href"),a=="portfolio/"+p.substr(0,p.length-5)){var o=t(this).attr("href");return e.removeClass("fadeOutLeft"),e.show(),e.addClass("fadeInLeft"),e.load(o),!1}}));t(".subpages .ajax-page-load").click((function(){return t(this).attr("href"),window.location.hash="portfolio/"+t(this).attr("href").substr(0,t(this).attr("href").length-5),!1}))}function e(a){if(!a.attr("data-animation"))return alert("Invalid attribute configuration. \n\n 'data-animation' attribute not found"),!1;if(!a.attr("data-goto"))return alert("Invalid attribute configuration. \n\n 'data-goto' attribute not found"),!1;var e,n,r,i,s=a.data("animation").toString();if(-1!=s.indexOf("-")){var d=s.split("-");i=parseInt(d[Math.floor(Math.random()*d.length)])}else i=parseInt(s);if(67<i)return alert("Transition.js : Invalid 'data-animation' attribute configuration. Animation number should not be greater than 67"),!1;1===i?(n="pt-page-moveFromRight",r="pt-page-moveToLeft"):2===i?(n="pt-page-moveFromLeft",r="pt-page-moveToRight"):3===i?(n="pt-page-moveFromBottom",r="pt-page-moveToTop"):4===i?(n="pt-page-moveFromTop",r="pt-page-moveToBottom"):5===i?(n="pt-page-moveFromRight pt-page-ontop",r="pt-page-fade"):6===i?(n="pt-page-moveFromLeft pt-page-ontop",r="pt-page-fade"):7===i?(n="pt-page-moveFromBottom pt-page-ontop",r="pt-page-fade"):8===i?(n="pt-page-moveFromTop pt-page-ontop",r="pt-page-fade"):9===i?(n="pt-page-moveFromRightFade",r="pt-page-moveToLeftFade"):10===i?(n="pt-page-moveFromLeftFade",r="pt-page-moveToRightFade"):11===i?(n="pt-page-moveFromBottomFade",r="pt-page-moveToTopFade"):12===i?(n="pt-page-moveFromTopFade",r="pt-page-moveToBottomFade"):13===i?(n="pt-page-moveFromRight",r="pt-page-moveToLeftEasing pt-page-ontop"):14===i?(n="pt-page-moveFromLeft",r="pt-page-moveToRightEasing pt-page-ontop"):15===i?(n="pt-page-moveFromBottom",r="pt-page-moveToTopEasing pt-page-ontop"):16===i?(n="pt-page-moveFromTop",r="pt-page-moveToBottomEasing pt-page-ontop"):17===i?(n="pt-page-moveFromRight pt-page-ontop",r="pt-page-scaleDown"):18===i?(n="pt-page-moveFromLeft pt-page-ontop",r="pt-page-scaleDown"):19===i?(n="pt-page-moveFromBottom pt-page-ontop",r="pt-page-scaleDown"):20===i?(n="pt-page-moveFromTop pt-page-ontop",r="pt-page-scaleDown"):21===i?(n="pt-page-scaleUpDown pt-page-delay300",r="pt-page-scaleDown"):22===i?(n="pt-page-scaleUp pt-page-delay300",r="pt-page-scaleDownUp"):23===i?(n="pt-page-scaleUp",r="pt-page-moveToLeft pt-page-ontop"):24===i?(n="pt-page-scaleUp",r="pt-page-moveToRight pt-page-ontop"):25===i?(n="pt-page-scaleUp",r="pt-page-moveToTop pt-page-ontop"):26===i?(n="pt-page-scaleUp",r="pt-page-moveToBottom pt-page-ontop"):27===i?(n="pt-page-scaleUpCenter pt-page-delay400",r="pt-page-scaleDownCenter"):28===i?(n="pt-page-moveFromRight pt-page-delay200 pt-page-ontop",r="pt-page-rotateRightSideFirst"):29===i?(n="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop",r="pt-page-rotateLeftSideFirst"):30===i?(n="pt-page-moveFromTop pt-page-delay200 pt-page-ontop",r="pt-page-rotateTopSideFirst"):31===i?(n="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop",r="pt-page-rotateBottomSideFirst"):32===i?(n="pt-page-flipInLeft pt-page-delay500",r="pt-page-flipOutRight"):33===i?(n="pt-page-flipInRight pt-page-delay500",r="pt-page-flipOutLeft"):34===i?(n="pt-page-flipInBottom pt-page-delay500",r="pt-page-flipOutTop"):35===i?(n="pt-page-flipInTop pt-page-delay500",r="pt-page-flipOutBottom"):36===i?(n="pt-page-scaleUp",r="pt-page-rotateFall pt-page-ontop"):37===i?(n="pt-page-rotateInNewspaper pt-page-delay500",r="pt-page-rotateOutNewspaper"):38===i?(n="pt-page-moveFromRight",r="pt-page-rotatePushLeft"):39===i?(n="pt-page-moveFromLeft",r="pt-page-rotatePushRight"):40===i?(n="pt-page-moveFromBottom",r="pt-page-rotatePushTop"):41===i?(n="pt-page-moveFromTop",r="pt-page-rotatePushBottom"):42===i?(n="pt-page-rotatePullRight pt-page-delay180",r="pt-page-rotatePushLeft"):43===i?(n="pt-page-rotatePullLeft pt-page-delay180",r="pt-page-rotatePushRight"):44===i?(n="pt-page-rotatePullBottom pt-page-delay180",r="pt-page-rotatePushTop"):45===i?(n="pt-page-rotatePullTop pt-page-delay180",r="pt-page-rotatePushBottom"):46===i?(n="pt-page-moveFromRightFade",r="pt-page-rotateFoldLeft"):47===i?(n="pt-page-moveFromLeftFade",r="pt-page-rotateFoldRight"):48===i?(n="pt-page-moveFromBottomFade",r="pt-page-rotateFoldTop"):49===i?(n="pt-page-moveFromTopFade",r="pt-page-rotateFoldBottom"):50===i?(n="pt-page-rotateUnfoldLeft",r="pt-page-moveToRightFade"):51===i?(n="pt-page-rotateUnfoldRight",r="pt-page-moveToLeftFade"):52===i?(n="pt-page-rotateUnfoldTop",r="pt-page-moveToBottomFade"):53===i?(n="pt-page-rotateUnfoldBottom",r="pt-page-moveToTopFade"):54===i?(n="pt-page-rotateRoomLeftIn",r="pt-page-rotateRoomLeftOut pt-page-ontop"):55===i?(n="pt-page-rotateRoomRightIn",r="pt-page-rotateRoomRightOut pt-page-ontop"):56===i?(n="pt-page-rotateRoomTopIn",r="pt-page-rotateRoomTopOut pt-page-ontop"):57===i?(n="pt-page-rotateRoomBottomIn",r="pt-page-rotateRoomBottomOut pt-page-ontop"):58===i?(n="pt-page-rotateCubeLeftIn",r="pt-page-rotateCubeLeftOut pt-page-ontop"):59===i?(n="pt-page-rotateCubeRightIn",r="pt-page-rotateCubeRightOut pt-page-ontop"):60===i?(n="pt-page-rotateCubeTopIn",r="pt-page-rotateCubeTopOut pt-page-ontop"):61===i?(n="pt-page-rotateCubeBottomIn",r="pt-page-rotateCubeBottomOut pt-page-ontop"):62===i?(n="pt-page-rotateCarouselLeftIn",r="pt-page-rotateCarouselLeftOut pt-page-ontop"):63===i?(n="pt-page-rotateCarouselRightIn",r="pt-page-rotateCarouselRightOut pt-page-ontop"):64===i?(n="pt-page-rotateCarouselTopIn",r="pt-page-rotateCarouselTopOut pt-page-ontop"):65===i?(n="pt-page-rotateCarouselBottomIn",r="pt-page-rotateCarouselBottomOut pt-page-ontop"):66===i?(n="pt-page-rotateSidesIn pt-page-delay200",r="pt-page-rotateSidesOut"):67===i&&(n="pt-page-rotateSlideIn",r="pt-page-rotateSlideOut");var m,l=t(".subpages"),u=l.data("current"),f=l.children("section.pt-page"),h=f.length,c=!1,v=!1;if(h>=(e=parseInt(a.data("goto")))){if(m=u,l.data("isAnimating"))return!1;l.data("isAnimating",!1);var F=f.eq(u);if(-1==e?u<h-1?++u:u=0:-2==e?0===u?u=h-1:u<=h-1?--u:u=0:u=e-1,m!=u){l.data("current",u);var T=f.eq(u).addClass("pt-page-current");F.addClass(r).on(o,(function(){F.off(o),c=!0,v&&p(l,T,F)})),T.addClass(n).on(o,(function(){T.off(o),v=!0,c&&p(l,T,F)}))}else l.data("isAnimating",!1)}else alert("Transition.js : Invalid 'data-goto' attribute configuration.");g||p(F,T)}function p(t,a,e){(function(t,a){a.attr("class",a.data("originalClassList")),t.attr("class",t.data("originalClassList")+" pt-page-current")})(a,e),t.data("isAnimating",!1)}var o={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],g=Modernizr.cssanimations;return{init:function(p){t(".pt-page").each((function(){var a=t(this);a.data("originalClassList",a.attr("class"))})),t(".subpages").each((function(){var a=t(this);a.data("current",0),a.data("isAnimating",!1),a.children(".pt-page").eq(0).addClass("pt-page-current")})),t(".pt-trigger").click((function(){e(t(this)),t(o+" li").removeClass("active"),t(this.parentNode).addClass("active"),t(".pt-wrapper").animate({scrollTop:0},300)})),window.onhashchange=function(){if(location.hash){t(o+" li").removeClass("active");var p=t(o+' a[href*="'+location.hash.split("/")[0]+'"]'),g=p[0];(g=t(g.parentNode)).addClass("active"),e(p),t(".pt-wrapper").animate({scrollTop:0},300),t("#page-ajax-loaded").addClass("fadeOutLeft"),t("#page-ajax-loaded > div").detach(),a()}};var o=p.menu,g=""===location.hash?"#"+t(".pt-page-current").attr("data-id"):location.hash.split("/")[0];if(""===location.hash){location.hash=g;var n=(r=t(o+' a[href*="'+location.hash.split("/")[0]+'"]'))[0];(n=t(n.parentNode)).addClass("active")}else{var r;n=(r=t(o+' a[href*="'+g+'"]'))[0],(n=t(n.parentNode)).addClass("active"),e(r)}t("#page").append('<div id="page-ajax-loaded" class="page-ajax-loaded animated fadeInLeft"></div>'),a(),t(document).on("click","#portfolio-close-button",(function(){t("#page-ajax-loaded").addClass("fadeOutLeft"),t("#page-ajax-loaded > div").detach()}))}}}(jQuery);$(document).ready((function(){"use strict";$(".subpages")[0]&&PageTransitions.init({menu:"ul.site-main-menu"})}));